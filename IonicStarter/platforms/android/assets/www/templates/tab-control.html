<ion-view view-title="Control">
  <ion-content class="padding">
    <ion-refresher pulling-text="Pull to refresh..."
                    on-refresh="onRefresh()">
    </ion-refresher>
      <!--<button ng-show="stale" class="button button-full button-balanced" id="searchBtn" ng-click="btScan()">
          Search for devices &nbsp; <div ng-show="spinner"><ion-spinner icon="ios"></ion-spinner></div>
      </button>-->
    <ion-list>
        <ion-item class="item-icon-right" ng-repeat="device in devices" type="item-text-wrap" ng-click="btConnect(device.id)">
            <h2>{{device.name}}</h2>
            <p>{{device.id}}</p>
            <!--<i class="icon ion-chevron-right icon-accessory"></i>-->
        </ion-item>
    </ion-list>
    <div class="list card">
      <div class="item item-divider">BB-8 Connection</div>
      <div class="item item-body">
        <div>
            <button ng-hide="connected" ng-click="btConnect(0)" class="button button-block button-balanced">
                Connect <div style="float: right" ng-show="spinner"><ion-spinner icon="ios"></ion-spinner></div>
            </button>
            <button ng-show="connected" ng-click="btDisconnect()" class="button button-block button-assertive">
                Disconnect <div style="float: right" ng-show="spinner"><ion-spinner icon="ios"></ion-spinner></div>
            </button>
        </div>
      </div>
    </div>
    <!--<div class="list card">
        <div class="row">
            <div class="col">
                <button class="button button-large button-dark"><i class="icon ion-chevron-up icon-accessory"></i></button>
            </div>
            <div class="col">
                <button class="button button-large button-dark"><i class="icon ion-chevron-up icon-accessory"></i></button>
            </div>
        </div>
        <div class="row">
            <div class="col">
                <button class="button button-large button-dark"><i class="icon ion-chevron-down icon-accessory"></i></button>
            </div>
            <div class="col">
                <button class="button button-large button-dark"><i class="icon ion-chevron-down icon-accessory"></i></button>
            </div>
        </div>
    </div>-->
    <div class="list card">
      <div class="item item-divider">Control {{pressed}}</div>
      <div class="item item-body">
          <div class="row">
              <div class="col">
                  <button class="button button-large button-dark" on-touch="down()" on-release="up()" ng-click="btWrite('1')"><i class="icon ion-chevron-up icon-accessory"></i></button>
              </div>
          </div>
          <div class="row">
              <div class="col">
                  <button class="button button-large button-dark" on-touch="down()" on-release="up()" ng-click="btWrite('3')"><i class="icon ion-chevron-left icon-accessory"></i></button>
              </div>
              <div class="col">
                  <button class="button button-large button-dark" on-touch="down()" on-release="up()"  ng-click="btWrite('4')"><i class="icon ion-chevron-right icon-accessory"></i></button>
              </div>
          </div>
          <div class="row">
              <div class="col">
                  <button class="button button-large button-dark" on-touch="down()" on-release="up()" ng-click="btWrite('2')"><i class="icon ion-chevron-down icon-accessory"></i></button>
              </div>
          </div>
      </div>
    </div>
  </ion-content>
</ion-view>
