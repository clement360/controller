<ion-view view-title="Control">
  <ion-content class="padding">
    <ion-refresher pulling-text="Pull to refresh..."
                    on-refresh="onRefresh()">
    </ion-refresher>
      <!--<button ng-show="stale" class="button button-full button-balanced" id="searchBtn" ng-click="btScan()">
          Search for devices &nbsp; <div ng-show="spinner"><ion-spinner icon="ios"></ion-spinner></div>
      </button>-->
    <ion-list>
        <ion-item class="item-icon-right" ng-repeat="device in devices" type="item-text-wrap" ng-click="btConnect(device.id)">
            <h2>{{device.name}}</h2>
            <p>{{device.id}}</p>
            <!--<i class="icon ion-chevron-right icon-accessory"></i>-->
        </ion-item>
    </ion-list>
    <div class="list card">
      <div class="item item-divider">BB-8 Connection</div>
      <div class="item item-body">
        <div>
            <button ng-hide="connected" ng-click="btConnect(0)" class="button button-block button-balanced">
                Connect <div style="float: right" ng-show="spinner"><ion-spinner icon="ios"></ion-spinner></div>
            </button>
            <button ng-show="connected" ng-click="btDisconnect()" class="button button-block button-assertive">
                Disconnect <div style="float: right" ng-show="spinner"><ion-spinner icon="ios"></ion-spinner></div>
            </button>
        </div>
      </div>
    </div>
    <div class="list card">
      <div class="item item-divider">Health</div>
      <div class="item item-body">
        <div ng-click="btWrite('1')">
          You ate an apple today!
        </div>
      </div>
    </div>
    <div class="list card">
      <div class="item item-divider">Upcoming</div>
      <div class="item item-body">
        <div ng-click="btWrite('2')">
          You have <b>29</b> meetings on your calendar tomorrow.
        </div>
      </div>
    </div>
  </ion-content>
</ion-view>
